---
import Nav from '../components/Nav.astro';
import HomeSection from '../components/sections/HomeSection.astro';
import RsvpSection from '../components/sections/RsvpSection.astro';
import ScheduleSection from '../components/sections/ScheduleSection.astro';
import TravelSection from '../components/sections/TravelSection.astro';
import AccommodationSection from '../components/sections/AccommodationSection.astro';
import ExploreSection from '../components/sections/ExploreSection.astro';
import PackingSection from '../components/sections/PackingSection.astro';
import RegistrySection from '../components/sections/RegistrySection.astro';
import QaSection from '../components/sections/QaSection.astro';
import Footer from '../components/Footer.astro';
import BaseLayout from '../layouts/BaseLayout.astro';
const { locale = 'en' } = Astro.props;
---
<BaseLayout title="Chang & John - Petritoli, Italy 2026" locale={locale}>
  <div class="announcement-bar" id="announcementBar">
    <p>Please <a href="#rsvp" onclick="showPage('rsvp'); return false;">RSVP</a> by <strong>June 1, 2026</strong> - the sooner the better so we can plan for everyone!</p>
    <button class="announcement-close" onclick="document.getElementById('announcementBar').style.display='none'; document.documentElement.style.setProperty('--banner-height','0px');" aria-label="Dismiss">&times;</button>
  </div>
  <Nav locale={locale} />
  <HomeSection />
  <RsvpSection />
  <ScheduleSection />
  <TravelSection />
  <AccommodationSection />
  <ExploreSection />
  <PackingSection />
  <RegistrySection />
  <QaSection />
  <Footer />
  <script is:inline>
    window.__SITE_BUILD__ = '20260301d';
    window.SHEET_URL = 'https://script.google.com/macros/s/AKfycbyeOp2H4i3iNh6GTDD_vJupY8rNqIkzCX97NdHwoWb-iv9ywAaUyLnHzFzljH8pudVj/exec';
  </script>
  <script is:inline src="/site.js?v=20260301d"></script>
  <script is:inline>
    // Runtime hardening in case an older cached site.js executes
    try {
      if (typeof SHEET_URL === 'undefined' || !SHEET_URL) {
        SHEET_URL = window.SHEET_URL;
      }
    } catch (e) {
      // If SHEET_URL isn't declared in loaded script, expose globally anyway
      window.SHEET_URL = window.SHEET_URL;
    }
  </script>
  <script is:inline src="/i18n.js?v=20260301d"></script>
</BaseLayout>
